// ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ + ê°ê°ë³„ íƒœê·¸ í¬í•¨
const questionData = [
  {
    q: "(Scene1) í¬íƒˆì´ ì—´ë¦´ ë•Œ, ê°€ì¥ ë¨¼ì € ê°ì§€í•˜ëŠ” ì§•í›„ëŠ”?",
    a: ["(V) ëˆˆì•ì— ì”ìƒì²˜ëŸ¼ ë¹›ì´ í”ë“¤ë¦°ë‹¤", "(S) ê·“ì†ì—ì„œ ë‚®ì€ ì§„ë™ì´ ìš¸ë¦°ë‹¤", "(T) íŒ”ì— ì „ë¥˜ê°€ íë¥¸ë‹¤", "(M) ë¶ˆì•ˆê°ì´ ì¹˜ë°€ì–´ì˜¤ë¥¸ë‹¤", "(V) í˜•ê´‘ ë¶ˆë¹›ì´ ë²ˆì©ì¸ë‹¤", "(S) ì‹¬ì¥ì†Œë¦¬ì™€ ì–´ê¸‹ë‚˜ëŠ” ë¦¬ë“¬", "(T) ë°”ë‹¥ì´ êº¼ì§€ëŠ” ë“¯í•œ ê°ê°"]
  },
  {
    q: "(Scene2) ë‚¯ì„  ê³µê°„ì—ì„œ ëŠê»´ì§€ëŠ” ì´ìƒí•œ ê¸°ìš´ì€?",
    a: ["(V) ë²½ì— ì˜ìƒì´ ê²¹ì³ ë³´ì¸ë‹¤", "(S) ì†ì‚­ì„ ê°™ì€ ì†Œë¦¬", "(T) ì‚´ê°—ì„ ìŠ¤ì¹˜ëŠ” ëƒ‰ê¸°", "(M) ë‹¨ìˆœ ì°©ê°ì´ ì•„ë‹ˆë¼ëŠ” í™•ì‹ ", "(V) ì–´ë‘ìš´ ë¹›ì˜ êµ¬ì—­", "(T) ë“±ê³¨ì„ íƒ€ëŠ” ë–¨ë¦¼", "(S) ë¨¸ë¦¬ ìœ„ì˜ í™”ì´íŠ¸ë…¸ì´ì¦ˆ"]
  },
  {
    q: "(Scene3) ë‡Œìºì‹œê°€ í­ì£¼í–ˆì„ ë•Œ, ë‹¹ì‹ ì€?",
    a: ["(V) ëˆˆì„ ê°ìœ¼ë©´ ì„¬ê´‘ì´ ë²ˆì§„ë‹¤", "(S) ì´ëª…ì´ ì‹¬í•´ì§„ë‹¤", "(T) ì†ì— ë•€ì´ ë‚œë‹¤", "(M) â€˜ì™œ?â€™ ì§ˆë¬¸ì´ ë°˜ë³µëœë‹¤", "(V) ìƒ‰ì´ ì„ ëª…í•´ì§„ë‹¤", "(S) ì‹¬ì¥ ë°•ë™ì´ ì»¤ì§„ë‹¤", "(T) ë°”ë‹¥ì´ í”ë“¤ë¦¬ëŠ” ì°©ê°"]
  },
  {
    q: "(Scene4) ìŠ¤ì³ê°„ ê°ê° ì¤‘ ê°€ì¥ ì„ ëª…í•œ ê²ƒì€?",
    a: ["(V) ìœ ë¦¬ì°½ì˜ ë„¤ì˜¨ ë¶ˆë¹›", "(S) ë°”ëŒ ì†Œë¦¬", "(T) ë‚¯ì„  ì†ê¸¸", "(M) â€˜ì´ê±°ë‹¤â€™ë¼ëŠ” ê°ê°", "(V) ì¿ë¹› ì† í˜•ê´‘ í”ì ", "(S) ë°˜ë³µë˜ëŠ” ë©œë¡œë””", "(T) ì‹¬ì¥ë°•ë™ê³¼ ë™ê¸°í™”"]
  },
  {
    q: "(Scene5) â€˜ë©â€™ì—ì„œ ê¹¨ì–´ë‚  ë•Œ, ë‚¨ëŠ” ê°ê°ì€?",
    a: ["(V) ì”ìƒì´ ì‚¬ë¼ì§„ë‹¤", "(S) ì†ŒìŒì´ ëŒì•„ì˜¨ë‹¤", "(T) ê¸´ì¥ì´ í’€ë¦°ë‹¤", "(M) í˜„ì‹¤ê°ì´ ì•½ê°„ ì—†ë‹¤", "(V) í‘ë°±ì´ ìƒ‰ì„ ì°¾ëŠ”ë‹¤", "(S) ë§¥ë°•ìŒì´ ìš¸ë¦°ë‹¤", "(T) ë§ˆë””ë¥¼ êº¾ìœ¼ë©° ì´ì™„"]
  },
  {
    q: "(Scene6) ê°€ìƒì´ë¼ë©´ ê°€ì¥ ë¨¼ì € ì˜ì‹¬í•˜ëŠ” ê°ê°ì€?",
    a: ["(V) ë°°ê²½ì´ ë°˜ë³µë¨", "(S) ì†Œë¦¬ ê²°ì´ ì–´ê¸‹ë‚¨", "(T) ì´‰ê°ì´ ì´ìƒí•¨", "(M) ì´ ëª¨ë“  ê²Œ ê¾¸ë©°ì¡Œë‹¨ ì§ê°", "(V) ì±„ë„ ë†’ì€ ìƒ‰", "(S) ë°œì†Œë¦¬ì˜ ì‹œê°„ì°¨", "(T) ë°”ë‹¥ ì§ˆê°ì´ ê°€ë²¼ì›€"]
  },
  {
    q: "(Scene7) ê°ì •ì´ ê²©í•´ì§ˆ ë•Œ, ê°€ì¥ ë¨¼ì € ë°˜ì‘í•˜ëŠ” ê±´?",
    a: ["(V) ì‹œì•¼ ê°€ì¥ìë¦¬ê°€ í”ë“¤ë¦¼", "(S) ê·€ê°€ ë¨¹ë¨¹í•´ì§", "(T) ì† ë–¨ë¦¼", "(M) ê°ì •ì´ í­ë°œí•¨", "(V) ìƒ‰ì´ ê°•ë ¬í•´ì§", "(S) ë¶ˆí˜‘ ì†ŒìŒ", "(T) ë‹­ì‚´"]
  },
  {
    q: "(Scene8) ë‚¯ì„  ì´ì™€ ë§ˆì£¼í•  ë•Œ?",
    a: ["(V) í‘œì •ê³¼ ë¹›ì„ ë³¸ë‹¤", "(S) ìˆ¨ì†Œë¦¬ë¥¼ ë“£ëŠ”ë‹¤", "(T) ì•…ìˆ˜ ì˜¨ë„ë¥¼ ëŠë‚Œ", "(M) ì§ê°ì´ ì˜¨ë‹¤", "(V) ëˆˆë™ì ìƒ‰ì´ ì´ìƒí•¨", "(S) ì¹¨ë¬µì´ ê¸¸ê²Œ ëŠê»´ì§", "(T) í˜¸í¡ ë¦¬ë“¬ì´ ì–´ìƒ‰í•¨"]
  },
  {
    q: "(Scene9) ë°˜ë³µë˜ëŠ” ê¿ˆ ì† ê°•ë ¬í•œ ì¥ë©´ì€?",
    a: ["(V) ë¹›ì´ ìŸì•„ì§", "(S) ì™¸ì¹˜ëŠ” ëª©ì†Œë¦¬", "(T) ì¶”ë½ê°", "(M) ë‚´ê°€ ì•„ë‹Œ ë¬´ì–¸ê°€ê°€ ëœ ëŠë‚Œ", "(V) ë’¤í‹€ë¦° ìƒ‰ê°", "(S) ì‹¬ì¥ì†Œë¦¬", "(T) í„°ì¹˜ë¡œ ê°ˆë¼ì§€ëŠ” ê³µê°„"]
  },
  {
    q: "(Scene10) ê³¼ë¶€í•˜ ì‹œ ê¸´ê¸‰ì¡°ì¹˜ëŠ”?",
    a: ["(V) ëˆˆì„ ê°ëŠ”ë‹¤", "(S) í™”ì´íŠ¸ë…¸ì´ì¦ˆì— ì§‘ì¤‘", "(T) ê°ê°ì„ ë”ë“¬ëŠ”ë‹¤", "(M) ëª¨ë“  ê²Œ ë¬´ì˜ë¯¸í•˜ë‹¤ëŠ” ì§ê°", "(V) ê·¸ë¦¼ì„ ê·¸ë¦¼", "(S) ë¦¬ë“¬ì„ ë§Œë“ ë‹¤", "(T) ë¬¼ì˜ ì˜¨ë„ë¥¼ ëŠë‚Œ"]
  },
  {
    q: "(Scene11) í˜„ì‹¤ì´ ë©ˆì¶˜ ëŠë‚Œì´ ë“¤ ë•Œ?",
    a: ["(V) ì‚¬ë¬¼ì„ ê´€ì°°í•œë‹¤", "(S) ì†Œë¦¬ì˜ ì •ì§€ë¥¼ í™•ì¸", "(T) ëª¸ì„ í”ë“ ë‹¤", "(M) ì´ ìƒíƒœê°€ ê³„ì†ë  ê²ƒ ê°™ë‹¤ëŠ” ì˜ˆê°", "(V) ë¹›ì˜ íë¦„", "(S) ì´ëª…", "(T) í”¼ë¶€ë¥¼ ê¼¬ì§‘ì–´ ë³¸ë‹¤"]
  },
  {
    q: "(Scene12) â€˜ì†Œë¦„â€™ì´ë€ ë‹¨ì–´ê°€ ì£¼ëŠ” ê°ê°ì€?",
    a: ["(V) íë¦¿í•œ ì‹œì•¼", "(S) ë“± ë’¤ì˜ ì†Œë¦¬", "(T) ë§ˆë¹„ê°", "(M) ì˜ˆê°", "(V) ëª…ì•”ì˜ ê²½ê³„", "(S) ë…¸ì´ì¦ˆì— ì˜ë¯¸ ë¶€ì—¬", "(T) ì‹¬ì¥ â†’ í•œê¸°"]
  },
  {
    q: "(Scene13) â€˜ì´ê±´ ê¿ˆì¼ì§€ë„?â€™ ìƒê°ì´ ë“¤ ë•Œ?",
    a: ["(V) ì‹œì•¼ê°€ ë§Œí™”ì²˜ëŸ¼ ë³´ì„", "(S) ëŒ€í™”ê°€ ì—ì½”ì²˜ëŸ¼ ë“¤ë¦¼", "(T) ë°”ë‹¥ ì´‰ê° ì´ìƒ", "(M) ëª¸ì´ íˆ¬ëª…í•´ì§", "(V) ë¹›ì´ ì§‘ì¤‘ë¨", "(S) ì‹¬ì¥ì†Œë¦¬ë§Œ ë“¤ë¦¼", "(T) ë¬¼ì²´ê°€ ì‹¤ê° ì•ˆ ë‚¨"]
  },
  {
    q: "(Scene14) ê°ì •ì„ ê³µìœ í•  ë•Œ?",
    a: ["(V) ê°ì •ì˜ ìƒ‰ì„ ë³¸ë‹¤", "(S) ë–¨ë¦¬ëŠ” ëª©ì†Œë¦¬", "(T) ë‹¿ì•˜ì„ ë•Œ ëŠë‚Œ", "(M) ëŠë‚Œì´ í†µí•¨", "(V) ìƒ‰ì´ ë‹¬ì•„ì˜¤ë¦„", "(S) ì†ŒìŒì€ ì‚¬ë¼ì§€ê³  ì‹¬ì¥ì†Œë¦¬", "(T) ì²´ì˜¨ì´ ë™ê¸°í™”"]
  },
  {
    q: "(Scene15) í¬íƒˆì´ ë‹«íŒ í›„ ë‚¨ëŠ” ê°ê°ì€?",
    a: ["(V) ì”ìƒ", "(S) ì§„ë™", "(T) ì†ì˜ ì˜¨ê¸°", "(M) ì—¬ìš´", "(V) ìƒ‰ì´ ì‚¬ë¼ì§", "(S) ì‚¬ë¼ì§„ ì†ŒìŒ", "(T) ê°€ë²¼ìš´ ëª¸"]
  }
];

// ê°ê° ë¶„ë¥˜
function classify(answer) {
  const code = answer.trim().slice(1, 2).toLowerCase();
  if (code === "v") return "vision";
  if (code === "s") return "sound";
  if (code === "t") return "touch";
  return "mind";
}

let qIndex = 0;
const score = { vision: 0, sound: 0, touch: 0, mind: 0 };
const quiz = document.getElementById("quiz");
const result = document.getElementById("resultBox");
const shareBtn = document.getElementById("shareBtn");
const whiteNoise = document.getElementById("whiteNoise");

function renderQ() {
  if (qIndex >= questionData.length) return showResult();

  const q = questionData[qIndex];
  let html = `<div class="question-box"><h2>${q.q}</h2>`;
  q.a.forEach(ans => {
    html += `<button onclick="answer('${ans}')">${ans}</button>`;
  });
  html += "</div>";
  quiz.innerHTML = html;
}

function answer(selected) {
  const sense = classify(selected);
  score[sense]++;
  qIndex++;
  renderQ();
}

function showResult() {
  quiz.innerHTML = "";
  whiteNoise.play();

  const top = Object.entries(score).sort((a, b) => b[1] - a[1])[0][0];
  let msg = "";

  switch (top) {
    case "vision":
      msg = "[VISUALIZER] ì‹œê° í•´ì»¤ - ë‹¹ì‹ ì€ ë¹›ê³¼ ìƒ‰ì˜ íë¦„ìœ¼ë¡œ í•´ì„í•©ë‹ˆë‹¤.";
      break;
    case "sound":
      msg = "[SOUNDDRIFTER] ìŒíŒŒ ì¡°ìœ¨ì - ì†Œë¦¬ì—ì„œ ì§„ë™ì˜ ì§ˆì„œë¥¼ ì½ì–´ëƒ…ë‹ˆë‹¤.";
      break;
    case "touch":
      msg = "[TACTILE SEEKER] ì´‰ê° í•´ì„ì - ì‹ ì²´ì  ë°˜ì‘ìœ¼ë¡œ ì§„ì‹¤ì„ ê°ì§€í•©ë‹ˆë‹¤.";
      break;
    default:
      msg = "[INTUNE] ê³µëª…ì - ì§ê´€ê³¼ ë¬´ì˜ì‹ì˜ ì‹ í˜¸ì— ë™ê¸°í™”ëœ ê°ê°ì²´ì…ë‹ˆë‹¤.";
  }

  result.innerHTML = `<h2>ë‹¹ì‹ ì˜ ê°ê° íƒ€ì…</h2><p>${msg}</p><p style="margin-top:1rem;">[ ë‡Œìºì‹œ ì´ˆê¸°í™” ì™„ë£Œ. ]</p>`;
  result.style.display = "block";
  shareBtn.classList.remove("hidden");
}

shareBtn.onclick = () => {
  const url = encodeURIComponent(window.location.href);
  const txt = encodeURIComponent("ğŸ§  ë‚˜ëŠ” ì´ëŸ° ê°ê° í•´ì»¤ì˜€ì–´! [NEUROFO]");
  const link = `https://twitter.com/intent/tweet?text=${txt}&url=${url}`;
  window.open(link, "_blank");
};

renderQ();
